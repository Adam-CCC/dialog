{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "scada",
    "widget",
    "window",
    "Place",
    "include",
    "mnemo",
    "dialog",
    "MData",
    "MPosition",
    "MProtection",
    "MConfirmation",
    "construct",
    "set",
    "getCommonDialog",
    "getChildControl",
    "setFont",
    "font",
    "setLayout",
    "ui",
    "layout",
    "Basic",
    "_dialogStack",
    "__createStack",
    "add",
    "_createWidgetContent",
    "destruct",
    "_disposeObjects",
    "_mainWindow",
    "dispose",
    "resetData",
    "resetOutData",
    "properties",
    "event",
    "init",
    "check",
    "showIfBadValues",
    "events",
    "members",
    "extractOptionFromSettings",
    "name",
    "settings",
    "errorMessage",
    "core",
    "Assert",
    "assertString",
    "settingsHasParam",
    "error",
    "hasOwnProperty",
    "_onConfirm",
    "stack",
    "container",
    "Stack",
    "setDynamic",
    "PADDING",
    "bom",
    "Font",
    "showClose",
    "showMaximize",
    "showMinimize",
    "allowMaximize",
    "allowMinimize",
    "contentPadding",
    "resizable",
    "initSettingsFromJson",
    "_onLoadSettings",
    "initProtection",
    "protection",
    "initConfirmationByJson",
    "confirmation",
    "setCenter",
    "data",
    "Conversion",
    "toBoolean",
    "center",
    "caption",
    "setCaption",
    "_excludeChildControl",
    "update",
    "key",
    "setOutputKey",
    "show",
    "getShowIfBadValues",
    "__hasBadValues",
    "addAt",
    "checkProtected",
    "getChildren",
    "length",
    "setSelection",
    "setupPosition",
    "Object",
    "values",
    "getData",
    "some",
    "value",
    "undefined",
    "next",
    "indexOf",
    "hide",
    "_isUnknownValue",
    "Dialog"
  ],
  "sources": [
    "C:/Users/dadovaz/Documents/Dialog/mnemo.dialog/source/class/scada/mnemo/dialog/Dialog.js"
  ],
  "sourcesContent": [
    "qx.Class.define(\"scada.mnemo.dialog.Dialog\", {\n    extend: scada.widget.window.Place,\n    include: [\n        scada.mnemo.dialog.MData,\n        scada.mnemo.dialog.MPosition,\n        scada.mnemo.dialog.MProtection,\n        scada.mnemo.dialog.MConfirmation\n    ],\n\n    construct() {\n        super();\n        this.set(this.getCommonDialog());\n        this.getChildControl(\"title\").setFont(this.getCommonDialog().font);\n        this.setLayout(new qx.ui.layout.Basic());\n        this._dialogStack = this.__createStack();\n        this.add(this._dialogStack);\n        this._createWidgetContent();\n    },\n\n    destruct() {\n        this._disposeObjects(\"_dialogStack\");\n        if (this._mainWindow){\n            this._mainWindow.dispose();\n            this._mainWindow = null;\n        }\n        this.resetData();\n        this.resetOutData();\n    },\n\n    properties: {\n        event: {\n            init: \"click\",\n            check: [\"click\", \"dblclick\"]\n        },\n\n        showIfBadValues: {\n            init: false,\n            check: \"Boolean\"\n        }\n    },\n\n    events: {\n        \"goto\": \"qx.event.type.Data\"\n    },\n\n    members: {\n        _mainWindow: null,\n\n        extractOptionFromSettings(name, settings, errorMessage){\n            qx.core.Assert.assertString(name);\n\n            if (this.settingsHasParam(settings, name)){\n                return settings[name];\n            }\n\n            if (!errorMessage){\n                errorMessage = `Нет ключа в конфигурации: ${name}`;\n            }\n            this.error(errorMessage);\n            return null;\n        },\n\n        settingsHasParam(settings, name){\n            return settings.hasOwnProperty(name);\n        },\n\n        _onConfirm(){\n        },\n\n        _createWidgetContent(){\n        },\n\n        __createStack(){\n            const stack = new qx.ui.container.Stack();\n            stack.setDynamic(true);\n            return stack;\n        },\n\n        getCommonDialog(){\n            const PADDING = 10;\n            return {\n                font: new qx.bom.Font(20, [\"Lucida Grande\",\"Tahoma\",\"Verdana\", \"Bitstream Vera Sans\",\"Liberation Sans\"]),\n                showClose       : true,\n                showMaximize    : false,\n                showMinimize    : false,\n                allowMaximize   : false,\n                allowMinimize   : false,\n                contentPadding  : PADDING,\n                resizable: [false, false, false, false]\n            };\n        },\n\n        initSettingsFromJson(settings){\n            this._onLoadSettings(settings);\n        },\n\n        _onLoadSettings(settings){\n            this.initProtection(settings.protection);\n            this.initConfirmationByJson(settings.confirmation);\n            this.setCenter(qx.data.Conversion.toBoolean(settings.center));\n\n            if (this.settingsHasParam(settings, \"caption\") && settings.caption){\n                this.setCaption(settings.caption);\n            } else {\n                this._excludeChildControl(\"captionbar\");\n            }\n            if (settings?.update?.key){\n                this.setOutputKey(settings?.update?.key);\n            }\n        },\n\n        show(){\n            if (!this.getShowIfBadValues() && this.__hasBadValues()){\n                return;\n            }\n            if (this._mainWindow){\n                this._dialogStack.addAt(this._mainWindow, 0);\n            }\n            this.checkProtected();\n            if (this._dialogStack.getChildren().length){\n                this._dialogStack.setSelection([this._dialogStack.getChildren()[0]]);\n                this.setupPosition();\n                super.show();\n            } else {\n                this._onConfirm();\n            }\n        },\n\n        __hasBadValues(){\n            return Object.values(this.getData()).some((value) => value === undefined || value === null);\n        },\n\n        next(){\n            if (this._dialogStack.indexOf(this._mainWindow) === this._dialogStack.getChildren().length - 1){\n                this._onConfirm();\n                this.hide();\n            } else {\n                this._dialogStack.next();\n            }\n        },\n\n        _isUnknownValue(value){\n            return value === null || value === undefined;\n        }\n    }\n});"
  ],
  "mappings": "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"
}