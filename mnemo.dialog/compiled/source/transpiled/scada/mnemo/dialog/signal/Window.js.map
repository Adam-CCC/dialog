{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "container",
    "Composite",
    "construct",
    "layout",
    "VBox",
    "__resetGroup",
    "__createAndAddResetAlarmGroup",
    "destruct",
    "__signalButton",
    "dispose",
    "__signalWindow",
    "_disposeObjects",
    "events",
    "members",
    "setConfig",
    "config",
    "hasOwnProperty",
    "__createShowTerminalButton",
    "__createAndOpenSignalWindow",
    "signals",
    "caption",
    "addButtonsForKeys",
    "reset_keys",
    "window",
    "scada",
    "mnemo",
    "dialog",
    "signal",
    "SignalWindow",
    "setSignals",
    "addListener",
    "center",
    "button",
    "form",
    "Button",
    "_onPressShowTerminalButton",
    "addBefore",
    "open",
    "setKeyForSignal",
    "key",
    "value",
    "group",
    "ResetAlarmsGroup",
    "e",
    "fireDataEvent",
    "getData",
    "add",
    "Window"
  ],
  "sources": [
    "C:/Users/dadovaz/Documents/Dialog/mnemo.dialog/source/class/scada/mnemo/dialog/signal/Window.js"
  ],
  "sourcesContent": [
    "qx.Class.define(\"scada.mnemo.dialog.signal.Window\", {\n    extend: qx.ui.container.Composite,\n\n    construct(){\n        super(new qx.ui.layout.VBox);\n        this.__resetGroup = this.__createAndAddResetAlarmGroup();\n    },\n\n    destruct() {\n        if (this.__signalButton){\n            this.__signalButton.dispose();\n            this.__signalButton = null;\n        }\n        if (this.__signalWindow){\n            this.__signalWindow.dispose();\n            this.__signalWindow = null;\n        }\n        this._disposeObjects(\"__resetGroup\");\n    },\n\n    events: {\n        \"resetAlarm\": \"qx.event.type.Data\"\n    },\n\n    members: {\n        setConfig(config){\n            if (config.hasOwnProperty(\"signals\")){\n                this.__signalButton = this.__createShowTerminalButton();\n                this.__signalWindow = this.__createAndOpenSignalWindow(config.signals, config.caption);\n            }\n            this.__resetGroup.addButtonsForKeys(config.reset_keys);\n        },\n\n        __createAndOpenSignalWindow(signals, caption){\n            const window = new scada.mnemo.dialog.signal.SignalWindow(caption);\n            window.setSignals(signals)\n            window.addListener(\"resize\", function(){ this.center(); });\n            return window;\n        },\n\n        __createShowTerminalButton(){\n            const button = new qx.ui.form.Button(\"Окно терминала\");\n            button.addListener(\"execute\", this._onPressShowTerminalButton, this);\n            this.addBefore(button, this.__resetGroup);\n            return button;\n        },\n\n        _onPressShowTerminalButton(){\n            this.__signalWindow.open();\n        },\n\n        setKeyForSignal(key, value) {\n            if (this.__signalWindow){\n                this.__signalWindow.setKeyForSignal(key, value);\n            }\n        },\n\n        __createAndAddResetAlarmGroup(){\n            const group = new scada.mnemo.dialog.signal.ResetAlarmsGroup();\n            group.addListener(\"resetAlarm\", function(e){\n                this.fireDataEvent(\"resetAlarm\", e.getData());\n            }, this);\n            this.add(group);\n            return group;\n        }\n    }\n});"
  ],
  "mappings": "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"
}