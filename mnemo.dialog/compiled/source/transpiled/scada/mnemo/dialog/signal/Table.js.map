{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "table",
    "Table",
    "construct",
    "signals",
    "width",
    "height",
    "core",
    "Assert",
    "assertArray",
    "model",
    "__createDataModel",
    "tableColumnModel",
    "__createColumnModel",
    "__setupTableColumnModel",
    "setHeight",
    "properties",
    "columnVisibilityButtonVisible",
    "init",
    "refine",
    "statusBarVisible",
    "defaultSignalValue",
    "check",
    "statics",
    "NAME_WIDTH_PERCENT",
    "VALUE_WIDTH_PERCENT",
    "members",
    "hasSignalWithId",
    "searchedId",
    "getTableModel",
    "i",
    "getRowCount",
    "id",
    "getValue",
    "setSignalValue",
    "value",
    "setValue",
    "columnmodel",
    "Resize",
    "getTableColumnModel",
    "setColumnVisible",
    "behavior",
    "getBehavior",
    "setWidth",
    "Math",
    "trunc",
    "constructor",
    "Simple",
    "setColumns",
    "setColumnSortable",
    "processedData",
    "map",
    "signalConfig",
    "key",
    "label",
    "getDefaultSignalValue",
    "setData",
    "scada",
    "mnemo",
    "dialog",
    "signal"
  ],
  "sources": [
    "C:/Users/dadovaz/Documents/Dialog/mnemo.dialog/source/class/scada/mnemo/dialog/signal/Table.js"
  ],
  "sourcesContent": [
    "qx.Class.define(\"scada.mnemo.dialog.signal.Table\", {\n    extend: qx.ui.table.Table,\n\n    construct(signals, width, height){\n        qx.core.Assert.assertArray(signals, \"something wrong with signal section\");\n        const model = this.__createDataModel(signals);\n        this.base(arguments, model, { tableColumnModel: (table) => this.__createColumnModel(table, width) });\n\n        this.__setupTableColumnModel(width);\n        this.setHeight(height);\n    },\n\n    properties: {\n        columnVisibilityButtonVisible: {\n            init: false,\n            refine: true\n        },\n\n        statusBarVisible: {\n            init: false,\n            refine: true\n        },\n\n        defaultSignalValue: {\n            init: \"?\",\n            check: \"String\"\n        }\n    },\n\n    statics: {\n        NAME_WIDTH_PERCENT: 0.8,\n        VALUE_WIDTH_PERCENT: 0.2\n    },\n\n    members: {\n        hasSignalWithId(searchedId){\n            const model = this.getTableModel();\n\n            for (let i = 0; i < model.getRowCount(); i++){\n                const id = model.getValue(0, i);\n                if (id === searchedId){\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        setSignalValue(searchedId, value){\n            const model = this.getTableModel();\n\n            for (let i = 0; i < model.getRowCount(); i++){\n                const id = model.getValue(0, i);\n                if (id === searchedId){\n                    model.setValue(2, i, value);\n                    break;\n                }\n            }\n        },\n\n        __createColumnModel(table){\n            return new qx.ui.table.columnmodel.Resize(table);\n        },\n\n        __setupTableColumnModel(width){\n            const model = this.getTableColumnModel();\n            model.setColumnVisible(0, false);\n\n            const behavior = model.getBehavior();\n            behavior.setWidth(1, Math.trunc(width * this.constructor.NAME_WIDTH_PERCENT));\n            behavior.setWidth(2, Math.trunc(width * this.constructor.VALUE_WIDTH_PERCENT));\n        },\n\n        __createDataModel(signals){\n            const model = new qx.ui.table.model.Simple();\n            model.setColumns([\"ID\", \"Сигнал\", \"Значение\"]);\n            model.setColumnSortable(1, false);\n            model.setColumnSortable(2, false);\n\n            const processedData = signals.map(signalConfig => [signalConfig.key, signalConfig.label, this.getDefaultSignalValue()]);\n            model.setData(processedData);\n            return model;\n        }\n    }\n});"
  ],
  "mappings": "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"
}